@inject NavigationManager NavigationManager
@inject CitrsLite.Business.Services.ParticipantService participantService
@using CitrsLite.Business.ViewModels.ParticipantViewModels;
@using CitrsLite.Data.Models
@using CitrsLite.Business.Enums

<MudTable Class="mt-3" Items="Participants" Dense="true" FixedHeader="true" FixedFooter="true">
    <ToolBarContent>
        <MudText Typo="Typo.h6">Participant List</MudText>
        <MudSpacer />
    </ToolBarContent>
    <HeaderContent>
        <MudTh>Name</MudTh>
        <MudTh>Type</MudTh>
        <MudTh>City</MudTh>
        <MudTh>Details</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Name">@context.Name</MudTd>
        <MudTd DataLabel="Type">@context.Type.ToString().Replace("_", " ")</MudTd>
        <MudTd DataLabel="City">@context.City</MudTd>
        <MudTd DataLabel="Details">
            <MudButton Href=@("/participant/detail/" + context.Id.ToString())
                       Variant="Variant.Text"
                       EndIcon="@Icons.Material.Filled.Link"
                       Color="Color.Primary">
            </MudButton>
        </MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager />
    </PagerContent>
</MudTable>

@code {
    [Parameter]
    public IEnumerable<Participant>? Participants { get; set; }
}
