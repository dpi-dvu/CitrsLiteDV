@inject CitrsLite.Business.Services.ParticipantService participantService

<h4 style="text-align:center" class="mt-5">Number of each Participant Type</h4>

<MudChart ChartType="ChartType.Donut" Width="300px" Height="300px" InputData="@data" InputLabels="@labels">
    <CustomGraphics>
        <text class="donut-inner-text" x="47%" y="35%" dominant-baseline="middle" text-anchor="middle" fill="black" font-family="Helvetica" font-size="2">Total</text>
        <text class="donut-inner-text" x="47%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="black" font-family="Helvetica" font-size="5">@data.Sum().ToString()</text>
    </CustomGraphics>
</MudChart>


@code {
    public double[] data = { };
    public string[] labels = { "Government Institute", "Nursery", "Research Institute", "Source Tree Collector" };

    protected override void OnInitialized()
    {
        data = participantService.GetChartData();
    }
}
